<!DOCTYPE html>
<html lang="en">
  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">

    <title>FOAM Developer portal |  </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <!-- fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,600,700" rel="stylesheet">

    <!-- stylesheets -->
    <link rel="stylesheet" href="/foam.developer/style/doc.css">

    <!-- favicon -->
    <link rel="icon" href="/foam.developer/images/favicon.ico">

    

  </head>
  <body>

   <script>window.__INITIAL_STATE__ = {"page":{"path":"foamlite/repo.html","title":""},"data":{"navigation":{"logo":{"text":"FOAM Developer portal","type":"link","path":"index.html"},"main":[{"text":"Introduction","type":"link","null":null,"path":"index.html"},{"text":"API Examples","type":"link","path":"examples/foam_map_api.html","children":[{"text":"Plot points","type":"link","path":"examples/example_1.html"},{"text":"Display tool tips","type":"link","path":"examples/example_2.html"},{"text":"Change the theme","type":"link","path":"examples/example_3.html"},{"text":"Density of points","type":"link","path":"examples/example_6.html"},{"text":"Map local restaurants","type":"link","path":"examples/example_7.html"},{"text":"Map a path","type":"link","path":"examples/example_8.html"},{"text":"Custom icons","type":"link","path":"examples/example_4.html"},{"text":"3D buildings","type":"link","path":"examples/example_5.html"}]},{"text":"Resources","type":"label","children":[{"text":"Videos","type":"link","path":"resources/videos.html"},{"text":"Repos","type":"link","path":"https://github.com/f-o-a-m/"}]},{"text":"FOAM Lite","type":"label","children":[{"text":"Introduction","type":"link","path":"foamlite/introduction.html"},{"text":"Approach","type":"link","path":"foamlite/approach.html"},{"text":"Real World Example","type":"link","path":"foamlite/nft.html"},{"text":"GitHub Repo","type":"link","path":"foamlite/repo.html"},{"text":"End Node","type":"link","path":"foamlite/end-node.html"}]},{"text":"Support & Feedback","type":"label"},{"text":"Raise an Issue on Github","type":"link","path":"https://github.com/f-o-a-m/foam.developer/issues/new"}]}},"config":{"timezone":"UTC","root":"/foam.developer/","time_format":"HH:mm:ss","theme":"../node_modules/foam-hexo-theme-doc","theme_config":{"swagger_ui":{"version":2,"permalinks":true,"api_explorer":true,"download":"Download specification","show_extensions":false,"deep_linking":true,"display_operation_id":false,"doc_expansion":"none"},"search":{"skip":false,"background":false,"route":"/lunr.json"},"favicon":"/images/favicon.ico","google_analytics":"UA-111781922-3"}}}</script>

    <div id="react-navigation-root"><div class="doc-navigation" data-reactroot=""><nav class="doc-navbar"><a href="/foam.developer/index.html" class="doc-navbar__logo"><img src="/foam.developer/images/logo.png" class="doc-navbar__logo__img"><span class="doc-navbar__logo__text">FOAM Developer portal</span></a><i class="dc-icon dc-icon--close dc-icon--interactive doc-sidebar-close doc-navbar__sidebar-close doc-navbar__sidebar-close--desktop"></i><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-navbar__sidebar-toggle"></i></nav><nav class="doc-sidebar"><div class="doc-sidebar__vertical-menu"><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-sidebar-toggle--primary doc-sidebar__vertical-menu__item"></i><i class="dc-icon dc-icon--search dc-icon--interactive doc-sidebar__vertical-menu__item doc-sidebar__vertical-menu__item--primary"></i></div><div class="doc-sidebar-content"><div class="doc-sidebar__search-form"></div><ul class="doc-sidebar-list"></ul></div></nav></div></div>
    <div class="doc-content">
  <div class="dc-page">
    <div class="dc-card">
      <div id="react-search-results-root"></div>
      <div id="page-content" class="doc-formatting">
        <h1 id="FOAM-Lite-Repo"><a href="#FOAM-Lite-Repo" class="headerlink" title="FOAM Lite Repo"></a>FOAM Lite Repo</h1><p>The Real World Example has been implemented as a set of Solidity smart contracts, and powered by FOAM’s PureScript Web3 tooling, deployed with <a href="https://github.com/f-o-a-m/chanterelle/" target="_blank" rel="noopener">Chanterelle</a>. The <a href="https://github.com/f-o-a-m/foam.lite/" target="_blank" rel="noopener">GitHub repository</a> contains the smart contracts, and various utilities written in PureScript to aid you in interacting with the smart contracts and exploring the FOAM Lite approach. A quickstart example is available in the README. We hope it serves as a useful reference to show you how the concepts demonstrated here come together to enable an Ethereum-of-Things application.</p>
<h2 id="System-Requirements"><a href="#System-Requirements" class="headerlink" title="System Requirements"></a>System Requirements</h2><ul>
<li>Either an x86/64 Linux OS, or an Intel or M1-based Mac<ul>
<li>The build hasn’t been tested on Windows, let us know if it works for you!</li>
<li>The PureScript compiler and Spago package manager unfortunately do not have precompiled binaries for all ARM distributions, and as such NPM has trouble executing our build scripts on these platforms</li>
</ul>
</li>
<li>GNU Make</li>
<li>Bash shell</li>
<li>Node.js ≥ v10.<ul>
<li>We recommend using <a href="https://nvm.sh" target="_blank" rel="noopener">NVM</a>. Various libraries in the PureScript ecosystem occasionally have trouble keeping up with newest versions of Node, so we would recommend that use the <code>lts/dubnium</code> release.</li>
</ul>
</li>
<li>Docker<ul>
<li>This is to allow the quickstart example to spin up an ephemeral blockchain with our <a href="https://hub.docker.com/r/foamspace/cliquebait" target="_blank" rel="noopener">Cliquebait</a> image for development purposes.</li>
</ul>
</li>
</ul>
<h2 id="Components-and-Configuration"><a href="#Components-and-Configuration" class="headerlink" title="Components and Configuration"></a>Components and Configuration</h2><p>Most of the software components can be configured with environment variables outlined here.</p>
<h3 id="FOAM-Lite-Explorer"><a href="#FOAM-Lite-Explorer" class="headerlink" title="FOAM Lite Explorer"></a>FOAM Lite Explorer</h3><p>A Purescript frontend showing RelayableNFT minting and transfer events queried from the blockchain. It serves as a demo of the kind of applications that are possible with the purescript-web3 libraries and tooling.</p>
<h3 id="Helper-Scripts"><a href="#Helper-Scripts" class="headerlink" title="Helper Scripts"></a>Helper Scripts</h3><p>A command line utility is built as part of <code>make bundle</code> and resides in <code>dist/helper.js</code>. Running <code>node dist/helper.js</code> will show all of the available options and flags, all of which are thoroughly documented in the script and most subcommands have a <code>--help</code> option that can be passed in. These serve to allow you to perform the specific steps needed to replicate the setup outlined in the Real World example.</p>
<h3 id="Relayer-Emulation-Server"><a href="#Relayer-Emulation-Server" class="headerlink" title="Relayer Emulation Server"></a>Relayer Emulation Server</h3><p>A basic REST API server is build as part of <code>make bundle</code> and resides in <code>dist/server.js</code>. It is used in the quickstart to allow one to simulate the radio broadcast between a relayer and end node. Encoded messages can be submitted to the <code>/relay/validate</code> and <code>/relay/submit</code> endpoint.</p>
<p>Environment variables include:</p>
<ul>
<li><code>NODE_URL</code>: The URL of the Ethereum node to use for blockchain interactions. This defaults to <code>http://localhost:8545</code>, which is convenient when running a local node or Cliquebait</li>
<li><code>FUNGIBLETOKEN_ADDRESS</code>: The contract address of the ERC20 token used for transaction fees. If not specified,  will attempt to read it from the Chanterelle deployment artifacts.<ul>
<li>An alternative path to the deployment artifact can be specified with <code>FUNGIBLETOKEN_ARTIFACT</code></li>
</ul>
</li>
<li><code>RELAYABLENFT_ADDRESS</code>: The address of the RelayableNFT contract to interact with. If not specified, will attempt to read it from the Chanterelle deployment artifacts<ul>
<li>An alternative path to the deployment artifact can be specified with  <code>RELAYABLENFT_ARTIFACT</code></li>
</ul>
</li>
<li><code>RELAYER_PRIVATE_KEY</code>: If the Ethereum node specified in <code>NODE_URL</code> does not have any unlocked accounts, you can specify the private key of the relayer account to submit relayed transactions with.</li>
<li><code>SERVER_HOST</code>: The address to listen for connections on</li>
<li><code>SERVER_PORT</code>: The port to listen for connections on</li>
</ul>
<h3 id="LoRa-Packet-Forwarder"><a href="#LoRa-Packet-Forwarder" class="headerlink" title="LoRa Packet Forwarder"></a>LoRa Packet Forwarder</h3><p>There is a small server meant to interface with the LoRa packet forwarder present in most off-the-shelf gateways built with <code>make bundle</code> and resides in <code>dist/lora.js</code>. This allows one to use real LoRa hardware to relay FOAM Lite messages to the blockchain. While more detailed documentation is coming soon, you can read a quickstart in <code>PI.md</code>.</p>
<p>Environment variables include:</p>
<ul>
<li><code>NODE_URL</code>: The URL of the Ethereum node to use for blockchain interactions. This defaults to <code>http://localhost:8545</code>, which is convenient when running a local node or Cliquebait</li>
<li><code>FUNGIBLETOKEN_ADDRESS</code>: The contract address of the ERC20 token used for transaction fees. If not specified,  will attempt to read it from the Chanterelle deployment artifacts.<ul>
<li>An alternative path to the deployment artifact can be specified with <code>FUNGIBLETOKEN_ARTIFACT</code></li>
</ul>
</li>
<li><code>RELAYABLENFT_ADDRESS</code>: The address of the RelayableNFT contract to interact with. If not specified, will attempt to read it from the Chanterelle deployment artifacts<ul>
<li>An alternative path to the deployment artifact can be specified with  <code>RELAYABLENFT_ARTIFACT</code></li>
</ul>
</li>
<li><code>RELAYER_PRIVATE_KEY</code>: If the Ethereum node specified in <code>NODE_URL</code> does not have any unlocked accounts, you can specify the private key of the relayer account to submit relayed transactions with.</li>
<li><code>PACKET_FORWARDER_HOST</code>: The address to listen for connections from the LoRa gateway driver on.</li>
<li><code>PACKET_FORWARDER_PORT</code>: The address to listen for connections from the LoRa gateway driver on.</li>
</ul>
<h3 id="End-Node-Firmware"><a href="#End-Node-Firmware" class="headerlink" title="End Node Firmware"></a>End Node Firmware</h3><p>Firmware for an end node that can transmit RelayableNFT messages implemented on an STM32F405 Feather Express and RFM95W LoRa Radio FeatherWing. This firmware can be considered the embedded equivalent of the helper scripts in some respects, and is intended to be studied and modified for other applications. See the <code>End Node</code> section for more details.</p>

        <div id="react-support-footer-root"></div>
      </div>
    </div>
  </div>
</div>

    
<script>
  if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-111781922-3', 'auto');
    ga('send', 'pageview');
  }
</script>



    

    <!-- js vendors -->
    <script src="//code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.0/lunr.min.js"></script>

    <!-- js source  -->
    <script src="/foam.developer/script/doc.js"></script>

    
      <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
      <script>
        if (window.mermaid) {
          mermaid.initialize({theme: 'forest'});
        }
      </script>
    

    

  </body>
</html>
